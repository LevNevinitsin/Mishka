const contacts=document.querySelector(".contacts");function map(){const e=document.querySelector(".contacts__map");e.querySelector("picture").remove();const t=document.querySelector(".contacts__list"),n=document.createElement("h3");n.classList.add("visually-hidden"),n.textContent="Карта с местоположением магазина на карте по адресу: Санкт-Петербург, ул. Большая Конюшенная 19/8, офис 101.",t.after(n),e.classList.add("contacts__map--api");const a=document.createElement("script");a.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0a5vYLNnFwIjYWbqVfy3JaaApqK55qrM&callback=initMap",a.defer=!0,document.head.appendChild(a),window.initMap=function(){const e=new google.maps.Map(document.querySelector(".contacts__map"),{center:{lat:59.93879978424407,lng:30.3228420342727},zoom:16.65});new google.maps.Marker({position:{lat:59.93867978424407,lng:30.3229920342727},map:e,icon:"img/icon_map_marker.svg"})}}contacts&&map();const mainNavigationBasic=document.querySelector(".main-navigation--basic"),mainNavigationSearch=document.querySelector(".main-navigation--search"),menuToggleButton=document.querySelector(".page-header__toggle"),transitionTime=200;function transitionSwitch(e){e.classList.toggle("main-navigation--ease-in"),e.classList.toggle("main-navigation--ease-out")}function openMenu(e){e.classList.remove("main-navigation--closed");const t=e.scrollHeight;requestAnimationFrame((function(){e.style.height=0,requestAnimationFrame((function(){e.style.height=t+"px"}))})),e.addEventListener("transitionend",(function(){e.removeAttribute("style"),transitionSwitch(e)}),{once:!0})}function closeMenu(e){const t=e.scrollHeight;requestAnimationFrame((function(){e.style.height=t+"px",requestAnimationFrame((function(){e.style.height=0}))})),e.addEventListener("transitionend",(function(){e.removeAttribute("style"),e.classList.add("main-navigation--closed"),transitionSwitch(e)}),{once:!0})}function antiSpam(){menuToggleButton.removeEventListener("click",menuToggle),setTimeout((function(){menuToggleButton.addEventListener("click",menuToggle)}),500)}function menuToggle(){antiSpam(),mainNavigationBasic.classList.contains("main-navigation--closed")?(openMenu(mainNavigationBasic),setTimeout(openMenu,200,mainNavigationSearch),menuToggleButton.classList.remove("page-header__toggle--closed")):(closeMenu(mainNavigationSearch),setTimeout(closeMenu,200,mainNavigationBasic),menuToggleButton.classList.add("page-header__toggle--closed"))}mainNavigationBasic.classList.remove("main-navigation--nojs"),mainNavigationSearch.classList.remove("main-navigation--nojs"),menuToggleButton.classList.remove("page-header__toggle--nojs"),mainNavigationBasic.classList.add("main-navigation--closed"),mainNavigationSearch.classList.add("main-navigation--closed"),menuToggleButton.classList.add("page-header__toggle--closed"),mainNavigationBasic.classList.add("main-navigation--ease-in"),mainNavigationSearch.classList.add("main-navigation--ease-out"),menuToggleButton.addEventListener("click",menuToggle);const modal=document.querySelector(".modal");function applyModal(){const e=document.querySelectorAll(".modal-trigger"),t=(document.querySelector(".modal__wrapper"),document.querySelectorAll(".modal__radio")),n=[],a=document.querySelector(".modal__add");let i;for(let e=0;e<t.length;e++)n[e]=t[e];for(modalTrigger of e)modalTrigger.addEventListener("click",(function(e){i=e.target.closest("a"),e.preventDefault(),modal.classList.add("modal--show"),requestAnimationFrame((function(){modal.classList.add("modal--appear")})),modal.querySelector("input:checked").focus()}));function o(){modal.classList.remove("modal--appear"),modal.addEventListener("transitionend",(function(){modal.classList.remove("modal--show")}),{once:!0}),i.focus()}window.addEventListener("keydown",(function(e){if(modal.classList.contains("modal--show")){if("Tab"===e.key)n.includes(document.activeElement)?(e.preventDefault(),a.focus()):(e.preventDefault(),modal.querySelector("input:checked").focus());else{if("Escape"!==e.key)return;e.preventDefault(),o()}}})),modal.addEventListener("click",(function(e){null===e.target.closest(".modal__wrapper")&&o()}))}modal&&applyModal();const slider=document.querySelector(".slider");function applySlider(){const e=document.querySelector(".slider__list"),t=document.querySelectorAll(".slider__item"),n=[],a=document.querySelector(".slider__toggle--prev"),i=document.querySelector(".slider__toggle--next");for(let e=0;e<t.length;e++)n[e]=t[e].innerHTML,t[e].remove();let o=0;function s(){for(let t=0;t<=2;t++){let a=o+t;0===a?a=n.length-1:a===n.length+1?a=0:a--;let i=document.createElement("li");i.innerHTML=n[a],i.classList.add("slider__item"),i.classList.add("slider__item--active"),i.classList.add("reviews__item"),e.appendChild(i)}}function c(){e.innerHTML="",e.style.transition="none",requestAnimationFrame((function(){e.style.left="0",s(),requestAnimationFrame((function(){e.removeAttribute("style"),a.addEventListener("click",l),i.addEventListener("click",r)}))}))}function l(){0===o?o=n.length-1:o--,e.addEventListener("transitionend",c,{once:!0}),e.style.left="120%",a.removeEventListener("click",l),i.removeEventListener("click",r)}function r(){o===n.length-1?o=0:o++,e.addEventListener("transitionend",c,{once:!0}),e.style.left="-120%",a.removeEventListener("click",l),i.removeEventListener("click",r)}s(),a.addEventListener("click",l),i.addEventListener("click",r)}slider&&applySlider();
//# sourceMappingURL=script.min.js.map
