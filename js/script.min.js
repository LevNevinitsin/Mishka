const contacts=document.querySelector(".contacts"),FAKE_MAP_SELECTOR=".contacts__fake-map",MAP_CONTAINER_ID="map",CENTER_LAT=59.93879978424407,CENTER_LNG=30.3228420342727,MARKER_LAT=59.93867978424407,MARKER_LNG=30.3229920342727,ZOOM=16,MARKER_ICON_PATH="img/icon_map_marker.svg";function map(){const e=document.querySelector(FAKE_MAP_SELECTOR);ymaps.ready((function(){e.remove();const t=new ymaps.Map("map",{center:[CENTER_LAT,CENTER_LNG],zoom:16}),n=new ymaps.Placemark([MARKER_LAT,MARKER_LNG],{hintContent:"qqq",balloonContent:"www"},{iconLayout:"default#image",iconImageHref:MARKER_ICON_PATH,iconImageSize:[67,101],iconImageOffset:[-23,-101]});t.geoObjects.add(n)}))}contacts&&map();const mainNavigationBasic=document.querySelector(".main-navigation--basic"),mainNavigationSearch=document.querySelector(".main-navigation--search"),menuToggleButton=document.querySelector(".page-header__toggle"),transitionTime=200;function transitionSwitch(e){e.classList.toggle("main-navigation--ease-in"),e.classList.toggle("main-navigation--ease-out")}function openMenu(e){e.classList.remove("main-navigation--closed");const t=e.scrollHeight;requestAnimationFrame((function(){e.style.height=0,requestAnimationFrame((function(){e.style.height=t+"px"}))})),e.addEventListener("transitionend",(function(){e.removeAttribute("style"),transitionSwitch(e)}),{once:!0})}function closeMenu(e){const t=e.scrollHeight;requestAnimationFrame((function(){e.style.height=t+"px",requestAnimationFrame((function(){e.style.height=0}))})),e.addEventListener("transitionend",(function(){e.removeAttribute("style"),e.classList.add("main-navigation--closed"),transitionSwitch(e)}),{once:!0})}function antiSpam(){menuToggleButton.removeEventListener("click",menuToggle),setTimeout((function(){menuToggleButton.addEventListener("click",menuToggle)}),500)}function menuToggle(){antiSpam(),mainNavigationBasic.classList.contains("main-navigation--closed")?(openMenu(mainNavigationBasic),setTimeout(openMenu,200,mainNavigationSearch),menuToggleButton.classList.remove("page-header__toggle--closed")):(closeMenu(mainNavigationSearch),setTimeout(closeMenu,200,mainNavigationBasic),menuToggleButton.classList.add("page-header__toggle--closed"))}mainNavigationBasic.classList.remove("main-navigation--nojs"),mainNavigationSearch.classList.remove("main-navigation--nojs"),menuToggleButton.classList.remove("page-header__toggle--nojs"),mainNavigationBasic.classList.add("main-navigation--closed"),mainNavigationSearch.classList.add("main-navigation--closed"),menuToggleButton.classList.add("page-header__toggle--closed"),mainNavigationBasic.classList.add("main-navigation--ease-in"),mainNavigationSearch.classList.add("main-navigation--ease-out"),menuToggleButton.addEventListener("click",menuToggle);const modal=document.querySelector(".modal");function applyModal(){const e=document.querySelectorAll(".modal-trigger"),t=(document.querySelector(".modal__wrapper"),document.querySelectorAll(".modal__radio")),n=[],i=document.querySelector(".modal__add");let a;for(let e=0;e<t.length;e++)n[e]=t[e];for(modalTrigger of e)modalTrigger.addEventListener("click",(function(e){a=e.target.closest("a"),e.preventDefault(),modal.classList.add("modal--show"),requestAnimationFrame((function(){modal.classList.add("modal--appear")})),modal.querySelector("input:checked").focus()}));function o(){modal.classList.remove("modal--appear"),modal.addEventListener("transitionend",(function(){modal.classList.remove("modal--show")}),{once:!0}),a.focus()}window.addEventListener("keydown",(function(e){if(modal.classList.contains("modal--show")){if("Tab"===e.key)n.includes(document.activeElement)?(e.preventDefault(),i.focus()):(e.preventDefault(),modal.querySelector("input:checked").focus());else{if("Escape"!==e.key)return;e.preventDefault(),o()}}})),modal.addEventListener("click",(function(e){null===e.target.closest(".modal__wrapper")&&o()}))}modal&&applyModal();const slider=document.querySelector(".slider");function applySlider(){const e=document.querySelector(".slider__list"),t=document.querySelectorAll(".slider__item"),n=[],i=document.querySelector(".slider__toggle--prev"),a=document.querySelector(".slider__toggle--next");for(let e=0;e<t.length;e++)n[e]=t[e].innerHTML,t[e].remove();let o=0;function s(){for(let t=0;t<=2;t++){let i=o+t;0===i?i=n.length-1:i===n.length+1?i=0:i--;let a=document.createElement("li");a.innerHTML=n[i],a.classList.add("slider__item"),a.classList.add("slider__item--active"),a.classList.add("reviews__item"),e.appendChild(a)}}function c(){e.innerHTML="",e.style.transition="none",requestAnimationFrame((function(){e.style.left="0",s(),requestAnimationFrame((function(){e.removeAttribute("style"),i.addEventListener("click",l),a.addEventListener("click",r)}))}))}function l(){0===o?o=n.length-1:o--,e.addEventListener("transitionend",c,{once:!0}),e.style.left="120%",i.removeEventListener("click",l),a.removeEventListener("click",r)}function r(){o===n.length-1?o=0:o++,e.addEventListener("transitionend",c,{once:!0}),e.style.left="-120%",i.removeEventListener("click",l),a.removeEventListener("click",r)}s(),i.addEventListener("click",l),a.addEventListener("click",r)}slider&&applySlider();
//# sourceMappingURL=script.min.js.map
